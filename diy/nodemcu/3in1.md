# 三合一气象站



B3套餐成品效果图

?>PIC




## 硬件准备


| ![](http://pic.airijia.com/doc/20190112174252.png ':size=200')| 整套购买(B系列套餐) |  [![买买买](http://cdn.airijia.com/b6eca8da724952cc0251.gif ':size=150')](https://item.taobao.com/item.htm?id=577014079869) | 
|:-:|:-:|:-:|
| ![](http://pic.airijia.com/doc/20190113113732.png ':size=200')| 0.96寸 OLED 屏幕+积木面板  |  [![买买买](http://cdn.airijia.com/b6eca8da724952cc0251.gif ':size=150')](https://item.taobao.com/item.htm?id=585830522424) |
| ![](http://pic.airijia.com/doc/20181205171519.png ':size=200')| NodeMCU CP2102 |  [![买买买](http://cdn.airijia.com/b6eca8da724952cc0251.gif ':size=150')](https://item.taobao.com/item.htm?id=585975819567) |
| ![](http://pic.airijia.com/doc/20181231110437.png ':size=200')| 三合一气象传感器模块 |  [![买买买](http://cdn.airijia.com/b6eca8da724952cc0251.gif ':size=150')](https://item.taobao.com/item.htm?id=585205682947) |
| ![](http://pic.airijia.com/doc/20181122162418.png ':size=200')| 杜邦线 母对母 |  [![买买买](http://cdn.airijia.com/b6eca8da724952cc0251.gif ':size=150')](https://item.taobao.com/item.htm?id=45608073136) |





**以下需自备**

- Micro USB 数据线 (安卓扁口)
- 带 USB 接口电脑，操作系统 **WIN 7 及以上** 或 **MAC OS**
- 绝缘胶带


## 刷 ESPHome 固件




## 进阶使用

**上传模板文件** 的方式创建 ESPHome 固件

### B1




显示温湿度，适用黄蓝双色的屏幕

需要用到 [I²C 总线](esphome/components/i2c) 等多个组件，具体见文末的[相关链接](#相关链接)


```yaml
# ... 五大件略过
i2c:
  sda: D2
  scl: D1
  scan: False
sensor:
  # HTU21D
  - platform: htu21d
    temperature:
      name: $hostname htu21d temperature
    humidity:
      name: $hostname humidity
    update_interval: 60s
  # BMP180
  - platform: bmp085
    temperature:
      name: $hostname bmp180 temperature
    pressure:
      name: $hostname pressure
    address: 0x77
    update_interval: 60s
  # BH1750
  - platform: bh1750
    name: $hostname illuminance
    address: 0x23
    resolution: 0.5
    update_interval: 60s
```


### B1增强

[完整模板文件下载](https://gitee.com/airijia/esphome-config/blob/master/NodeMCU8266/environmental/3in1.yaml)

在B1的基础上增加了海拔高度和绝对湿度的换算




#### 海拔高度和绝对湿度

```yaml

```


### B2&B3

[完整模板文件下载](https://gitee.com/airijia/esphome-config/blob/master/NodeMCU8266/environmental/3in1+oled.yaml)





## 相关链接

- [I²C 总线](esphome/components/i2c)
- [HTU21D 温湿度传感器](esphome/components/sensor/htu21d)
- [BMP180 温度+气压传感器](esphome/components/sensor/bmp085)
- [BH1750 光强传感器](esphome/components/sensor/bh1750)
- [显示屏核心组件](esphome/components/display/) 
- [SSD1306 OLED I2C显示屏](esphome/components/display/ssd1306_i2c)
- [时间](esphome/components/time)


